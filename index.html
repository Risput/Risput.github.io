<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Risput</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Press Start 2P', cursive;
    }
    body {
      background: linear-gradient(45deg, #0D0D0D, #3A3A3A, #DADADA);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .gameboy {
      background-color: #e0e0c0;
      width: 320px;
      height: 560px;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
      position: relative;
    }
    
    .power-indicator {
      width: 10px;
      height: 10px;
      background-color: #ff0000;
      border-radius: 50%;
      position: absolute;
      top: 30px;
      left: 30px;
    }
    .power-text {
      position: absolute;
      top: 30px;
      left: 45px;
      font-size: 10px;
      color: #444;
    }
    
    .brand {
      position: absolute;
      top: 30px;
      right: 30px;
      font-size: 10px;
      color: #444;
    }
    
    .screen-border {
      background-color: #383838;
      border-radius: 10px;
      padding: 20px;
      margin-top: 40px;
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.8);
    }
    .screen {
      background-color: #1a3c01;
      height: 180px;
      border-radius: 5px;
      position: relative;
      overflow: hidden;
      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5);
    }
    .screen-content {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #8bac0f;
      text-align: center;
      padding: 10px;
    }
    
    .dot-matrix {
      position: absolute;
      bottom: 5px;
      left: 10px;
      font-size: 6px;
      color: #444;
    }
    
    .battery {
      position: absolute;
      bottom: 5px;
      right: 10px;
      width: 10px;
      height: 10px;
      background-color: #ff0000;
      border-radius: 50%;
    }
    
    .buttons-row {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .button {
      width: 100%;
      padding: 10px;
      margin: 0 5px;
      text-align: center;
      border-radius: 5px;
      cursor: pointer;
      font-size: 10px;
      color: white;
      box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2);
      transition: all 0.1s;
    }
    .button:active {
      transform: translateY(4px);
      box-shadow: 0 0 0;
    }
    
    .message-btn {
      background-color: #2196F3;
      background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0, 0, 0, 0.1) 10px, rgba(0, 0, 0, 0.1) 20px);
    }
    .gallery-btn {
      background-color: #FF5722;
      background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0, 0, 0, 0.1) 10px, rgba(0, 0, 0, 0.1) 20px);
    }
    .music-btn {
      background-color: #9C27B0;
      background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0, 0, 0, 0.1) 10px, rgba(0, 0, 0, 0.1) 20px);
    }
    .tetris-btn {
      background-color: #4CAF50;
      background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0, 0, 0, 0.1) 10px, rgba(0, 0, 0, 0.1) 20px);
    }
    
    .controls {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .dpad {
      width: 100px;
      height: 100px;
      position: relative;
    }
    .dpad-button {
  background: linear-gradient(145deg, #323232, #282828);
  position: absolute;
  width: 30px;
  height: 30px;
  transition: all 0.1s ease;
  z-index: 10;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5),
              -1px -1px 3px rgba(255, 255, 255, 0.05);
}
    .dpad-button:active {
  transform: scale(0.9);
  box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.8),
              inset -1px -1px 3px rgba(255, 255, 255, 0.1);
  background: linear-gradient(145deg, #282828, #323232);
}
    .dpad-button::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.03);
  border-radius: inherit;
  opacity: 0;
  transition: opacity 0.2s;
}
    .dpad-button:hover::after {
  opacity: 1;
}
@keyframes buttonPress {
  0% { transform: scale(1); }
  50% { transform: scale(0.9); }
  100% { transform: scale(1); }
}

    .dpad-button2 {
      background: linear-gradient(145deg, #323232, #282828);
      width: 30px;
      height: 30px;
      transition: all 0.1s ease;
      z-index: 10;
      box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5),
                  -1px -1px 3px rgba(255, 255, 255, 0.05);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      color: white;
}
   .dpad-button2:active {
    transform: scale(0.9);
    box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.8),
                inset -1px -1px 3px rgba(255, 255, 255, 0.1);
    background: linear-gradient(145deg, #282828, #323232);
  }
    .dpad-button2::after {
      content: '';
      position: absolute;
      width: 10%;
      height: 10%;
      background: rgba(255, 255, 255, 0.03);
      border-radius: inherit;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .dpad-button2:hover::after {
      opacity: 1;
    }
    @keyframes buttonPress {
      0% { transform: scale(1); }
      50% { transform: scale(0.9); }
      100% { transform: scale(1); }
    }
    .button-press {
      animation: buttonPress 0.2s ease;
    }
    
    .dpad-up {
      top: 0;
      left: 35px;
      border-radius: 5px 5px 0 0;
    }
    .dpad-right {
      top: 35px;
      right: 0;
      border-radius: 0 5px 5px 0;
    }
    .dpad-down {
      bottom: 0;
      left: 35px;
      border-radius: 0 0 5px 5px;
    }
    .dpad-left {
      top: 35px;
      left: 0;
      border-radius: 5px 0 0 5px;
    }
    
    
    .action-buttons {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .action-row {
      display: flex;
      gap: 20px;
    }
    
    .action-button {
      width: 40px;
      height: 40px;
      background-color: #ff5722;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      color: white;
    }
    
    .start-select {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 20px;
    }
    .start-select-button {
      width: 50px;
      height: 15px;
      background-color: #424242;
      border-radius: 15px;
      color: white;
      font-size: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .speaker {
      position: absolute;
      bottom: 20px;
      right: 20px;
      display: flex;
      flex-wrap: wrap;
      width: 30px;
    }
    .speaker-hole {
      width: 3px;
      height: 3px;
      background-color: #333;
      margin: 2px;
      border-radius: 50%;
    }
    
    .content-screen {
      display: none;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 15px 5px;
      height: 100%;
      overflow-y: auto;
    }
    .content-title {
      font-size: 10px;
      margin-bottom: 10px;
    }
    .message-content {
      font-size: 8px;
      line-height: 1.6;
      text-align: left;
      color: #8bac0f;
    }
    
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 5px;
      width: 100%;
    }
    .gallery-item {
      width: 100%;
      aspect-ratio: 1;
      background-size: cover;
      background-position: center;
      border: 2px solid #8bac0f;
    }
    .video-modal {
  display: none;
  position: fixed;
  z-index: 100;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
}
    .modal-content {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
}
    #fullscreen-video {
      max-width: 100%;
      max-height: 100%;
      border: 6px solid black;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
    }
 
    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      color: #f1f1f1;
      font-size: 35px;
      font-weight: bold;
      cursor: pointer;
      z-index: 101;
}
    .gallery-item.video-item {
      position: relative;}
    .gallery-item.video-item::after {
      content: "▶";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 20px;
      text-shadow: 0 0 5px rgba(0,0,0,0.8);
}
    .gallery-item.january-item {
      position: relative;}
    .gallery-item.january-item::after {
      content: "January";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 7px;
      text-shadow: 0 0 5px rgba(0,0,0,0.8);
}
    .gallery-item.february-item {
      position: relative;}
    .gallery-item.february-item::after {
      content: "February";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 7px;
      text-shadow: 0 0 5px rgba(0,0,0,0.8);
}
    .gallery-item.maret-item {
      position: relative;}
    .gallery-item.maret-item::after {
      content: "Maret";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 7px;
      text-shadow: 0 0 5px rgba(0,0,0,0.8);
}
    .gallery-item.april-item {
      position: relative;}
    .gallery-item.april-item::after {
      content: "April";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 7px;
      text-shadow: 0 0 5px rgba(0,0,0,0.8);
}
    .gallery-item.mei-item {
      position: relative;}
    .gallery-item.mei-item::after {
      content: "Mei";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 7px;
      text-shadow: 0 0 5px rgba(0,0,0,0.8);
}
    
    .music-list {
      width: 100%;
      font-size: 8px;
    }
    .music-item {
      padding: 5px;
      margin-bottom: 5px;
      border: 1px solid #8bac0f;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
    }
    .music-item.active {
      background-color: #8bac0f;
      color: #1a3c01;
    }
    .lyrics-content {
  font-size: 8px;
  line-height: 1.6;
  text-align: left;
  color: #8bac0f;
  white-space: pre-wrap;
  margin-top: 10px;
  overflow-y: auto;
  max-height: 140px;
}
    
    
    .tetris-game {
      width: 100%;
      height: 100%;
      position: relative;
    }
    .tetris-grid {
      border: 1px solid #8bac0f;
      width: 120px;
      height: 130px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      grid-template-rows: repeat(20, 1fr);
    }
    .tetris-block {
      border: 1px solid #5a7a09;
    }
    .back-button {
      position: absolute;
      top: 5px;
      left: 5px;
      font-size: 8px;
      cursor: pointer;
      color: #8bac0f;
    }
    .active-block {
      background-color: #8bac0f;
    }
  
    audio {
      display: none;
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }
    .blink {
      animation: blink 1s infinite;
    }
    
    ::-webkit-scrollbar {
      width: 3px;
    }
    ::-webkit-scrollbar-track {
      background: #1a3c01;
    }
    ::-webkit-scrollbar-thumb {
      background: #8bac0f;
    }

    .notification-banner {
      background-color: #8bac0f;
      color: #1a3c01;
      padding: 5px;
      border-radius: 3px;
      margin-bottom: 10px;
      text-align: center;
      width: 100%;
      font-size: 8px;
      animation: pulse 1.5s infinite;
    }
    
    .notification-text {
      font-weight: bold;
    }
    
    .return-button {
      background-color: #8bac0f;
      color: #1a3c01;
      padding: 5px 10px;
      border-radius: 3px;
      margin-top: 10px;
      cursor: pointer;
      font-size: 8px;
      text-align: center;
      width: 60%;
      margin-left: auto;
      margin-right: auto;
    }
    .return-button:active {
      transform: scale(0.95);
}

    .gallery-qr {
      width: 50%;
      aspect-ratio: 1;
      background-size: cover;
      background-position: center;
      border: 2px solid #8bac0f;
    }
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
}
  </style>
</head>
<body>
  <div class="gameboy">
    <div class="power-indicator"></div>
    <div class="power-text">POWER</div>
    <div class="brand">Rspt</div>
    
    <div class="screen-border">
      <div class="screen">
        <div class="screen-content" id="main-screen">
          <div class="title" style="font-size: 14px;">Happy</div>
          <div class="title" style="font-size: 14px;">Birthday!</div>
          <div style="margin-top: 30px; font-size: 10px; color: #ffcc00;" class="blink">Press Start Button</div>
        </div>
        
        <!-- Message Screen -->
        <div class="content-screen" id="message-screen">
          <div class="back-button" onclick="showMainScreen()">←</div>
          <div class="content-title">BIRTHDAY MESSAGE</div>
          <div class="message-content">
            Selamat ulang tahun, cantik...
Hari ini spesial banget, karena orang seistimewa kamu lahir ke dunia.
Makasihh yaa udah jadi sosok yang selalu bisa bikin aku nyaman, tenang, dan senyum sendiri.
Kamu tuh engga cuma cantik, tapi juga punya hati yang luar biasa.
Di umur yang baru ini, semoga semua harapan dan impianmu pelan pelan jadi kenyataan.
Kalau boleh, aku pengen terus ada di samping kamu nemenin kamu lewat suka duka.
Sekali lagi, selamat ulang tahun yaa... loved u, always.
          </div>
        </div>
        
        <!-- Gallery Screen -->
        <div class="content-screen" id="gallery-screen">
          <div class="back-button" onclick="showMainScreen()">←</div>
          <div class="content-title">PHOTO GALLERY</div>
          <div class="gallery-grid">
            <div class="gallery-item january-item" style="background-image: url('photo01.jpg')"></div>
            <div class="gallery-item february-item" style="background-image: url('photo02.jpg')"></div>
            <div class="gallery-item maret-item" style="background-image: url('photo03.jpg')"></div>
            <div class="gallery-item april-item" style="background-image: url('photo04.jpg')"></div>
            <div class="gallery-item mei-item" style="background-image: url('photo05.jpg')"></div>
            
            <!-- <div class="gallery-item video-item" 
                 style="background-image: url('photo01.jpg')"
                 data-video="vid01.mp4"></div>
            <div id="video-modal" class="video-modal">
            <div class="modal-content">
              <span class="close-modal">&times;</span>
              <video id="fullscreen-video" controls>
                <source src="vid01.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
          </div>
        </div>
        <div class="gallery-item video-item" 
     style="background-image: url('thumbnail.jpg')"
     data-video="vid02.mp4"
     data-title="Birthday Video 2025"></div> -->
      </div>
    </div>
    
    <!--VIDEO PLAYERY -->
    <div class="content-screen" id="video-player-screen">
  <div class="back-button" onclick="showScreen('gallery-screen')">←</div>
  <div class="content-title">VIDEO PLAYER</div>
  
  <div class="video-player-container">
    <video id="embedded-video" controls style="width: 100%; max-height: 120px; border: 2px solid #8bac0f;">
      <source src="vid02.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
  
  <div style="font-size: 8px; margin-top: 10px; text-align: center; color: #8bac0f;">
    <div id="video-title">Video Title</div>
  </div>
</div>
    
    <!-- GALLERY JANUARY -->
       <div class="content-screen" id="january-gallery-screen">
  <div class="back-button" onclick="showScreen('gallery-screen')">←</div>
  <div class="content-title">JANUARY PHOTOS</div>
  
  <!-- Notification banner -->
  <div class="notification-banner">
    <div class="notification-text">Memories • January 2025</div>
  </div>
  
  <div class="gallery-grid">
    <div class="gallery-item" style="background-image: url('Gallery/january/cv_january_photo01.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/january/cv_january_photo02.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/january/cv_january_photo3.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/january/cv_january_photo04.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/january/cv_january_photo05.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/january/cv_january_photo06.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/january/cv_january_photo07.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/january/cv_january_photo08.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('Gallery/january/cv_january_photo09.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('Gallery/january/cv_january_photo10.jpg')"></div>
  </div>
  
  <div class="return-button" onclick="showScreen('gallery-screen')">KEMBALI</div>
</div>


<!-- Detail Photo Screen -->
<div class="content-screen" id="january-photo-detail-screen">
  <div class="back-button" onclick="showScreen('january-gallery-screen')">←</div>
  <div class="content-title">JANUARY PHOTO</div>
  
  <div style="display: flex; flex-direction: column; align-items: center; height: 100%;">
    <!-- Foto yang akan ditampilkan secara penuh -->
    <div id="detail-photo" style="width: 90%; height: 80%; border: 2px solid #8bac0f; background-size: contain; background-position: center;"></div>
    
    <!-- Caption foto -->
    <div id="photo-caption" style="font-size: 8px; margin-top: 10px; text-align: center; color: #8bac0f;">
      Photo details
    </div>
  </div>
  
  <div class="return-button" onclick="showScreen('january-gallery-screen')">KEMBALI</div>
</div>


    <!-- GALLERY FEBRUARY -->
       <div class="content-screen" id="february-gallery-screen">
  <div class="back-button" onclick="showScreen('gallery-screen')">←</div>
  <div class="content-title">FEBRUARY PHOTOS</div>
  
  <!-- Notification banner -->
  <div class="notification-banner">
    <div class="notification-text">Memories • February 2025</div>
  </div>
  
  <div class="gallery-grid">
    <div class="gallery-item" style="background-image: url('/Gallery/february/cv_february_photo1.jpg')"></div>
    <div class="gallery-item" style="background-image: url('/Gallery/february/cv_february_photo2.jpg')"></div>
    <div class="gallery-item" style="background-image: url('/Gallery/february/cv_february_photo3.jpg')"></div>
    <div class="gallery-item" style="background-image: url('/Gallery/february/cv_february_photo4.jpg')"></div>
    <div class="gallery-item" style="background-image: url('/Gallery/february/cv_february_photo5.jpg')"></div>
    <div class="gallery-item" style="background-image: url('/Gallery/february/cv_february_photo6.jpg')"></div>
    <div class="gallery-item" style="background-image: url('/Gallery/february/cv_february_photo7.jpg')"></div>
    <div class="gallery-item" style="background-image: url('/Gallery/february/cv_february_photo8.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('/Gallery/february/cv_february_photo9.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('/Gallery/february/cv_february_photo10.jpg')"></div>
  </div>
  
  <div class="return-button" onclick="showScreen('gallery-screen')">KEMBALI</div>
</div>
    <!-- GALLERY MARET -->
       <div class="content-screen" id="maret-gallery-screen">
  <div class="back-button" onclick="showScreen('gallery-screen')">←</div>
  <div class="content-title">MARCH PHOTOS</div>
  
  <!-- Notification banner -->
  <div class="notification-banner">
    <div class="notification-text">Memories • March 2025</div>
  </div>
  
  <div class="gallery-grid">
    <div class="gallery-item" style="background-image: url('Gallery/maret/cv_maret_photo1.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/maret/cv_maret_photo2.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/maret/cv_maret_photo3.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/maret/cv_maret_photo4.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/maret/cv_maret_photo5.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/maret/cv_maret_photo6.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/maret/cv_maret_photo7.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/maret/cv_maret_photo8.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('Gallery/maret/cv_maret_photo9.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('Gallery/maret/cv_maret_photo10.jpg')"></div>
  </div>
  <div class="return-button" onclick="showScreen('gallery-screen')">KEMBALI</div>
</div>
    <!-- GALLERY APRIL -->
       <div class="content-screen" id="april-gallery-screen">
  <div class="back-button" onclick="showScreen('gallery-screen')">←</div>
  <div class="content-title">APRIL PHOTOS</div>
  
  <!-- Notification banner -->
  <div class="notification-banner">
    <div class="notification-text">Memories • April 2025</div>
  </div>
  
  <div class="gallery-grid">
    <div class="gallery-item" style="background-image: url('Gallery/april/cv_april_photo1.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/april/cv_april_photo2.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/april/cv_april_photo3.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/april/cv_april_photo4.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/april/cv_april_photo5.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/april/cv_april_photo6.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/april/cv_april_photo7.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/april/cv_april_photo8.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('Gallery/april/cv_april_photo9.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('Gallery/april/cv_april_photo10.jpg')"></div>
  </div>
  
  <div class="return-button" onclick="showScreen('gallery-screen')">KEMBALI</div>
</div>
    <!-- GALLERY MEI -->
       <div class="content-screen" id="mei-gallery-screen">
  <div class="back-button" onclick="showScreen('gallery-screen')">←</div>
  <div class="content-title">MAY PHOTOS</div>
  
  <!-- Notification banner -->
  <div class="notification-banner">
    <div class="notification-text">Memories • May 2025</div>
  </div>
  
  <div class="gallery-grid">
    <div class="gallery-item" style="background-image: url('Gallery/mei/cv_mei_photo1.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/mei/cv_mei_photo2.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/mei/cv_mei_photo3.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/mei/cv_mei_photo4.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/mei/cv_mei_photo5.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/mei/cv_mei_photo6.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/mei/cv_mei_photo7.jpg')"></div>
    <div class="gallery-item" style="background-image: url('Gallery/mei/cv_mei_photo8.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('Gallery/mei/cv_mei_photo9.jpg')"></div>
    <div class="gallery-item video-item" style="background-image: url('Gallery/mei/cv_mei_photo10.jpg')"></div>
  </div>
  
  <div class="return-button" onclick="showScreen('gallery-screen')">KEMBALI</div>
</div>

        <!-- Music Screen -->
        <div class="content-screen" id="music-screen">
          <div class="back-button" onclick="showMainScreen()">←</div>
          <div class="content-title">MUSIC PLAYLIST</div>
          <div class="music-list">
            <div class="music-item" onclick="playMusic(0), showScreen('lyrics-screen')">
              <span>About You</span>
              <span>►</span>
            </div>
            <div class="music-item" onclick="playMusic(1)">
              <span>Pretty Little Baby</span>
              <span>►</span>
            </div>
            <div class="music-item" onclick="playMusic(2)">
              <span>Photograph</span>
              <span>►</span>
            </div>
            <div class="music-item" onclick="playMusic(3)">
              <span>Sempurna</span>
              <span>►</span>
            </div>
            <div class="music-item" onclick="playMusic(4)">
              <span>Happy Birthday</span>
              <span>►</span>
            </div>
          </div>
          
          <audio id="About You" loop>
            <source src="" type="audio/mpeg">
          </audio>
          <audio id="pretty_little_baby" loop>
            <source src="" type="audio/mpeg">
          </audio>
          <audio id="photograph" loop>
            <source src="" type="audio/mpeg">
          </audio>
          <audio id="sempurna" loop>
            <source src="" type="audio/mpeg">
          </audio>
          <audio id="HappyBirthday" loop>
            <source src="" type="audio/mpeg">
          </audio>
        </div>
       
        <!-- Tetris Screen -->
        <div class="content-screen" id="tetris-screen">
          <div class="back-button" onclick="showMainScreen()">←</div>
          <div class="content-title">TETRIS</div>
          <div class="tetris-game">
            <div class="tetris-grid" id="tetris-grid"></div>
          </div>
        </div>
      <!-- QR Reward Screen -->
      <div class="content-screen" id="qr-reward-screen">
  <div class="back-button" onclick="showMainScreen()">←</div>
  <div style="font-size: 10px;
      margin-bottom: 7px;">YOU WIN!</div>
  <div style="font-size: 8px; margin-bottom: 5px;">Score: <span id="final-score">0</span></div>
  
    <div class="gallery-qr" style="background-image: url('qr.png')">
    </div>

  <div style="font-size: 8px; margin-top: 7px; text-align: center;">
    Scan hadiah kamu!
    </br>
    ohyaa sebelumnya knapaa aku ngasih ini, aku bingung mau ngasih apa, karena aku belum tau pasti apa selera kamu.
  </div>
  
  <div style="font-size: 8px; margin-top: 10px; text-align: center; color: #ffcc00;" class="blink">
     B to kembali
  </div>
</div>

<!--LIRIK LAGU-->
        <!--<div class="content-screen" id="lyrics-screen">
      <div class="back-button" onclick="showScreen('music-screen')">←</div>
      <div class="content-title">SONG LYRICS</div>
       <div class="lyrics-content" id="lyrics-text">
        </div>
      </div>-->
      
      
        <div class="dot-matrix"></div>
        <div class="battery"></div>
      </div>
    </div>
    
    <div class="buttons-row">
      <div class="button message-btn" onclick="showScreen('message-screen')">MESSAGE</div>
      <div class="button gallery-btn" onclick="showScreen('gallery-screen')">GALLERY</div>
    </div>
    <div class="buttons-row">
      <div class="button music-btn" onclick="showScreen('music-screen')">MUSIC</div>
      <div class="button tetris-btn" onclick="showScreen('tetris-screen')">TETRIS</div>
    </div>
    
    <div class="controls">
      <div class="dpad">
        <div class="dpad-button dpad-up"></div>
        <div class="dpad-button dpad-right"></div>
        <div class="dpad-button dpad-down"></div>
        <div class="dpad-button dpad-left"></div>
        <div class="dpad-center"></div>
      </div>
      <div class="action-buttons">
        <div class="action-row">
          <div class="dpad-button2 action-button">B</div>
          <div class="dpad-button2 action-button">A</div>
        </div>
      </div>
    </div>
    <div class="start-select">
      <div class="start-select-button">SELECT</div>
      <div class="start-select-button" onclick="showScreen('message-screen')">START</div>
    </div>
    <div class="speaker">
      <div class="speaker-hole"></div>
      <div class="speaker-hole"></div>
      <div class="speaker-hole"></div>
      <div class="speaker-hole"></div>
      <div class="speaker-hole"></div>
      <div class="speaker-hole"></div>
      <div class="speaker-hole"></div>
      <div class="speaker-hole"></div>
      <div class="speaker-hole"></div>
    </div>
    
    <!-- Updated QR Reward Screen HTML -->
    <div class="content-screen" id="qr-reward-screen">
  <div class="back-button" onclick="showMainScreen()">←</div>
  <div class="content-title">YOU WIN!</div>
  <div style="font-size: 8px; margin-bottom: 10px;">Score: <span id="final-score">0</span></div>
  
  <!-- Notification banner -->
  <div class="notification-banner">
    <div class="notification-text blink">Birthday Gift Unlocked!</div>
  </div>
  
  <div class="qr-code"></div>
  
  <div style="font-size: 8px; margin-top: 10px; text-align: center;">
    Scan for your birthday surprise!
  </div>
  
  <!-- Return button -->
  <div class="return-button" onclick="showMainScreen()">RETURN</div>
</div>  </div>

  <script>
    // Sound Effects
    const buttonClickSound = new Audio("data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAAABMYXZjNTguMTMuMTAwAAA=");
    
    // Set up tetris grid
    const tetrisGrid = document.getElementById('tetris-grid');
    for (let i = 0; i < 200; i++) {
      const block = document.createElement('div');
      block.classList.add('tetris-block');
      tetrisGrid.appendChild(block);
    }
    
    // Functions to show screens
    function showScreen(screenId) {
      buttonClickSound.play();
      
      document.getElementById('main-screen').style.display = 'none';
      document.getElementById('message-screen').style.display = 'none';
      document.getElementById('gallery-screen').style.display = 'none';
      document.getElementById('music-screen').style.display = 'none';
      document.getElementById('tetris-screen').style.display = 'none';
      
      document.getElementById(screenId).style.display = 'flex';
      
      if (screenId === 'tetris-screen') {
        startTetris();
      } else {
        stopTetris();
      }
    }
    
    function showMainScreen() {
      buttonClickSound.play();
      
      document.getElementById('main-screen').style.display = 'flex';
      document.getElementById('message-screen').style.display = 'none';
      document.getElementById('gallery-screen').style.display = 'none';
      document.getElementById('music-screen').style.display = 'none';
      document.getElementById('tetris-screen').style.display = 'none';
      
      stopTetris();
      pauseAllMusic();
    }
    
    // Music player
    let currentMusic = null;
    const musicTracks = [
      document.getElementById('birthday-song'),
      document.getElementById('mario-theme'),
      document.getElementById('zelda-theme'),
      document.getElementById('pokemon-theme'),
      document.getElementById('tetris-theme')
    ];
    
    function playMusic(index) {
      buttonClickSound.play();
      
      // Stop current music if playing
      pauseAllMusic();
      
      // Remove active class from all music items
      const musicItems = document.querySelectorAll('.music-item');
      musicItems.forEach(item => {
        item.classList.remove('active');
      });
      
      // Play selected music and add active class
      currentMusic = musicTracks[index];
      currentMusic.play();
      musicItems[index].classList.add('active');
    }
    
    function pauseAllMusic() {
      musicTracks.forEach(track => {
        track.pause();
        track.currentTime = 0;
      });
    }
    
// Define tetromino shapes and their rotations
const TETROMINOES = {
  I: {
    shape: [
      [0, 0, 0, 0],
      [1, 1, 1, 1],
      [0, 0, 0, 0],
      [0, 0, 0, 0]
    ],
    color: '#00FFFF'
  },
  J: {
    shape: [
      [1, 0, 0],
      [1, 1, 1],
      [0, 0, 0]
    ],
    color: '#0000FF'
  },
  L: {
    shape: [
      [0, 0, 1],
      [1, 1, 1],
      [0, 0, 0]
    ],
    color: '#FF8000'
  },
  O: {
    shape: [
      [1, 1],
      [1, 1]
    ],
    color: '#FFFF00'
  },
  S: {
    shape: [
      [0, 1, 1],
      [1, 1, 0],
      [0, 0, 0]
    ],
    color: '#00FF00'
  },
  T: {
    shape: [
      [0, 1, 0],
      [1, 1, 1],
      [0, 0, 0]
    ],
    color: '#800080'
  },
  Z: {
    shape: [
      [1, 1, 0],
      [0, 1, 1],
      [0, 0, 0]
    ],
    color: '#FF0000'
  }
};

// Game variables
let tetrisBoard = Array(20).fill().map(() => Array(10).fill(0));
let currentPiece = null;
let currentPosition = { x: 0, y: 0 };
let currentRotation = 0;
let tetrisInterval = null;
let tetrisScore = 0;
let gameOver = false;
let isPaused = false;

// Game controls
document.addEventListener('keydown', handleKeyPress);

// Initialize Tetris game
function startTetris() {
  // Reset game state
  tetrisBoard = Array(20).fill().map(() => Array(10).fill(0));
  tetrisScore = 0;
  gameOver = false;
  isPaused = false;
  
  // Clear the grid
  clearTetrisGrid();
  
  // Create new tetromino
  createNewTetromino();
  
  // Start game loop
  if (tetrisInterval) clearInterval(tetrisInterval);
  tetrisInterval = setInterval(() => {
    if (!isPaused && !gameOver) {
      moveDown();
    }
  }, 500);
  
  // Add controls for touch devices
  setupTouchControls();
}

function stopTetris() {
  if (tetrisInterval) {
    clearInterval(tetrisInterval);
    tetrisInterval = null;
  }
  
  // Remove the active tetromino
  clearTetrisGrid();
}

function clearTetrisGrid() {
  const blocks = document.querySelectorAll('.tetris-block');
  blocks.forEach(block => {
    block.classList.remove('active-block');
    block.classList.remove('landed-block');
    block.style.backgroundColor = '';
  });
}

function createNewTetromino() {
  // Get random tetromino
  const tetrominoNames = Object.keys(TETROMINOES);
  const randomIndex = Math.floor(Math.random() * tetrominoNames.length);
  const tetrominoName = tetrominoNames[randomIndex];
  
  // Set current piece and reset position/rotation
  currentPiece = TETROMINOES[tetrominoName];
  currentRotation = 0;
  
  // Start at the top-middle of the board
  currentPosition = {
    x: Math.floor((10 - currentPiece.shape[0].length) / 2),
    y: 0
  };
  
  // Check if the game is over (can't place new piece)
  if (!isValidMove(currentPosition.x, currentPosition.y, currentPiece.shape)) {
    gameOver = true;
    clearInterval(tetrisInterval);
    alert('Game Over! Score: ' + tetrisScore);
    return;
  }
  
  // Draw the new piece
  drawTetromino();
}

function drawTetromino() {
  const grid = document.getElementById('tetris-grid');
  const shape = currentPiece.shape;
  
  // Clear previous position
  const blocks = document.querySelectorAll('.active-block');
  blocks.forEach(block => {
    block.classList.remove('active-block');
    block.style.backgroundColor = '';
  });
  
  // Draw the tetromino at its current position
  for (let y = 0; y < shape.length; y++) {
    for (let x = 0; x < shape[y].length; x++) {
      if (shape[y][x]) {
        const blockX = currentPosition.x + x;
        const blockY = currentPosition.y + y;
        
        if (blockY >= 0) { // Only draw if on screen
          const blockIndex = blockY * 10 + blockX;
          const block = grid.children[blockIndex];
          if (block) {
            block.classList.add('active-block');
            block.style.backgroundColor = currentPiece.color;
          }
        }
      }
    }
  }
}

function drawBoard() {
  const grid = document.getElementById('tetris-grid');
  
  // Draw the landed blocks
  for (let y = 0; y < tetrisBoard.length; y++) {
    for (let x = 0; x < tetrisBoard[y].length; x++) {
      const color = tetrisBoard[y][x];
      const blockIndex = y * 10 + x;
      const block = grid.children[blockIndex];
      
      if (block) {
        if (color) {
          block.classList.add('landed-block');
          block.style.backgroundColor = color;
        } else {
          block.classList.remove('landed-block');
          block.style.backgroundColor = '';
        }
      }
    }
  }
}

function rotateTetromino() {
  // Clone the current shape to avoid modifying the original
  const shape = JSON.parse(JSON.stringify(currentPiece.shape));
  
  // Transpose the matrix
  for (let y = 0; y < shape.length; y++) {
    for (let x = 0; x < y; x++) {
      [shape[y][x], shape[x][y]] = [shape[x][y], shape[y][x]];
    }
  }
  
  // Reverse each row to get a clockwise rotation
  const rotatedShape = shape.map(row => row.reverse());
  
  // Check if the rotation is valid
  if (isValidMove(currentPosition.x, currentPosition.y, rotatedShape)) {
    currentPiece.shape = rotatedShape;
    drawTetromino();
  }
}

function isValidMove(x, y, shape) {
  for (let row = 0; row < shape.length; row++) {
    for (let col = 0; col < shape[row].length; col++) {
      if (shape[row][col]) {
        const newX = x + col;
        const newY = y + row;
        
        // Check boundaries
        if (newX < 0 || newX >= 10 || newY >= 20) {
          return false;
        }
        
        // Check collision with landed blocks
        if (newY >= 0 && tetrisBoard[newY][newX]) {
          return false;
        }
      }
    }
  }
  return true;
}

function moveLeft() {
  if (isValidMove(currentPosition.x - 1, currentPosition.y, currentPiece.shape)) {
    currentPosition.x--;
    drawTetromino();
  }
}
function moveRight() {
  if (isValidMove(currentPosition.x + 1, currentPosition.y, currentPiece.shape)) {
    currentPosition.x++;
    drawTetromino();
  }
}
function moveDown() {
  if (isValidMove(currentPosition.x, currentPosition.y + 1, currentPiece.shape)) {
    currentPosition.y++;
    drawTetromino();
  } else {
    // Landed - lock the piece in place
    landTetromino();
  }
}

function dropTetromino() {
  while (isValidMove(currentPosition.x, currentPosition.y + 1, currentPiece.shape)) {
    currentPosition.y++;
  }
  drawTetromino();
  landTetromino();
}

function landTetromino() {
  const shape = currentPiece.shape;
  
  // Add the tetromino to the board
  for (let y = 0; y < shape.length; y++) {
    for (let x = 0; x < shape[y].length; x++) {
      if (shape[y][x]) {
        const boardY = currentPosition.y + y;
        const boardX = currentPosition.x + x;
        
        if (boardY >= 0) { // Only add if on screen
          tetrisBoard[boardY][boardX] = currentPiece.color;
        }
      }
    }
  }
  
  // Check for completed lines
  checkLines();
  
  // Create a new tetromino
  createNewTetromino();
  
  // Redraw the board
  drawBoard();
}

function checkLines() {
  let linesCleared = 0;
  
  for (let y = 0; y < tetrisBoard.length; y++) {
    // Check if the line is complete
    if (tetrisBoard[y].every(cell => cell !== 0)) {
      // Remove the line
      tetrisBoard.splice(y, 1);
      // Add a new empty line at the top
      tetrisBoard.unshift(Array(10).fill(0));
      linesCleared++;
    }
  }
  
  // Update score
  if (linesCleared > 0) {
    tetrisScore += linesCleared * 100;
    // Optional: Increase speed as score increases
    if (tetrisScore % 1000 === 0) {
      clearInterval(tetrisInterval);
      tetrisInterval = setInterval(() => {
        if (!isPaused && !gameOver) {
          moveDown();
        }
      }, Math.max(100, 500 - Math.floor(tetrisScore / 1000) * 50));
    }
  }
}

function handleKeyPress(e) {
  if (gameOver || !tetrisInterval) return;
  
  // Add key controls
  switch (e.key) {
    case 'ArrowLeft':
      moveLeft();
      break;
    case 'ArrowRight':
      moveRight();
      break;
    case 'ArrowDown':
      moveDown();
      break;
    case 'ArrowUp':
      rotateTetromino();
      break;
    case ' ':
      dropTetromino();
      break;
    case 'p':
      isPaused = !isPaused;
      break;
  }
}

function setupTouchControls() {
  // D-pad controls
  document.querySelector('.dpad-left').addEventListener('click', moveLeft);
  document.querySelector('.dpad-right').addEventListener('click', moveRight);
  document.querySelector('.dpad-down').addEventListener('click', moveDown);
  document.querySelector('.dpad-up').addEventListener('click', rotateTetromino);
  
  // Action buttons
  document.querySelector('.action-button:nth-child(1)').addEventListener('click', moveDown);
  document.querySelector('.action-button:nth-child(2)').addEventListener('click', rotateTetromino);
}

// Replace the existing tetris screen event listener to use our new game
document.addEventListener('DOMContentLoaded', function() {
  const tetrisButton = document.querySelector('.tetris-btn');
  if (tetrisButton) {
    tetrisButton.addEventListener('click', function() {
      showScreen('tetris-screen');
      startTetris();
    });
  }
});
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize with main screen visible
      showMainScreen();
      
      // Add event listeners to buttons
      document.querySelectorAll('.button').forEach(button => {
        button.addEventListener('click', function() {
          buttonClickSound.play();
        });
      });
      
      document.querySelectorAll('.dpad-button').forEach(button => {
        button.addEventListener('click', function() {
          buttonClickSound.play();
        });
      });
      
      document.querySelectorAll('.action-button').forEach(button => {
        button.addEventListener('click', function() {
          buttonClickSound.play();
        });
      });
      
      document.querySelectorAll('.start-select-button').forEach(button => {
        button.addEventListener('click', function() {
          buttonClickSound.play();
        });
      });
    });
    
    
    function checkLines() {
  let linesCleared = 0;
  
  for (let y = 0; y < tetrisBoard.length; y++) {
    // Check if the line is complete
    if (tetrisBoard[y].every(cell => cell !== 0)) {
      // Remove the line
      tetrisBoard.splice(y, 1);
      // Add a new empty line at the top
      tetrisBoard.unshift(Array(10).fill(0));
      linesCleared++;
    }
  }
  
  // Update score
  if (linesCleared > 0) {
    tetrisScore += linesCleared * 100;
    
    // Check if player reached 1000+ points
    if (tetrisScore >= 100) {
      // Show QR code reward screen
      showQRRewardScreen();
    }
    
    // Optional: Increase speed as score increases
    if (tetrisScore % 100 === 0 && tetrisScore < 100) {
      clearInterval(tetrisInterval);
      tetrisInterval = setInterval(() => {
        if (!isPaused && !gameOver) {
          moveDown();
        }
      }, Math.max(10, 50 - Math.floor(tetrisScore / 100) * 5));
    }
  }
}

// 4. Create a function to show the QR reward screen
function showQRRewardScreen() {
  // Hide all screens
  document.getElementById('main-screen').style.display = 'none';
  document.getElementById('message-screen').style.display = 'none';
  document.getElementById('gallery-screen').style.display = 'none';
  document.getElementById('music-screen').style.display = 'none';
  document.getElementById('tetris-screen').style.display = 'none';
  
  // Show QR code screen
  document.getElementById('qr-reward-screen').style.display = 'flex';
  
  // Update final score if needed
  document.getElementById('final-score').textContent = tetrisScore;
  
  // Optional: Play a sound effect
  buttonClickSound.play();
}
    
  </script>
  <script>
// Function to show QR reward screen
function showQRRewardScreen() {
  // Hide all screens
  document.getElementById('main-screen').style.display = 'none';
  document.getElementById('message-screen').style.display = 'none';
  document.getElementById('gallery-screen').style.display = 'none';
  document.getElementById('music-screen').style.display = 'none';
  document.getElementById('tetris-screen').style.display = 'none';
  
  // Show QR code screen
  document.getElementById('qr-reward-screen').style.display = 'flex';
  
  // Update final score
  document.getElementById('final-score').textContent = tetrisScore;
  
  // Play a sound effect
  buttonClickSound.play();
  
  // Flash the screen for visual effect
  const screen = document.querySelector('.screen');
  screen.style.backgroundColor = '#8bac0f';
  setTimeout(() => {
    screen.style.backgroundColor = '#1a3c01';
  }, 300);
}

// Add event listener for the B button
document.querySelector('.action-button:nth-child(1)').addEventListener('click', function() {
  buttonClickSound.play();
  
  // Check if QR screen is currently displayed
  if (document.getElementById('qr-reward-screen').style.display === 'flex') {
    showMainScreen();
  }
});

// Modified checkLines function to show QR at score threshold
function checkLines() {
  let linesCleared = 0;
  
  for (let y = 0; y < tetrisBoard.length; y++) {
    // Check if the line is complete
    if (tetrisBoard[y].every(cell => cell !== 0)) {
      // Remove the line
      tetrisBoard.splice(y, 1);
      // Add a new empty line at the top
      tetrisBoard.unshift(Array(10).fill(0));
      linesCleared++;
    }
  }
  
  // Update score
  if (linesCleared > 0) {
    tetrisScore += linesCleared * 100;
    // Check if player reached target score
    if (tetrisScore >= 100) {
      // Stop the game
      clearInterval(tetrisInterval);
      gameOver = true;
      
      // Show QR code reward screen after a small delay
      setTimeout(showQRRewardScreen, 500);
    }
    // Increase speed as score increases
    if (tetrisScore % 100 === 0 && tetrisScore < 100) {
      clearInterval(tetrisInterval);
      tetrisInterval = setInterval(() => {
        if (!isPaused && !gameOver) {
          moveDown();
        }
      }, Math.max(100, 500 - Math.floor(tetrisScore / 100) * 50));
    }
  }
}

// Also handle keyboard B key press for returning from QR screen
document.addEventListener('keydown', function(e) {
  if (e.key === 'b' || e.key === 'B') {
    if (document.getElementById('qr-reward-screen').style.display === 'flex') {
      buttonClickSound.play();
      showMainScreen();
    }
  }
});


// Setup video items in gallery
function setupVideoGallery() {
  // Find all video items
  const videoItems = document.querySelectorAll('.gallery-item.video-item');
  const modal = document.getElementById('video-modal');
  const fullscreenVideo = document.getElementById('fullscreen-video');
  const closeBtn = document.querySelector('.close-modal');
  
  // Add click event to each video item
  videoItems.forEach(item => {
    item.addEventListener('click', function() {
      // Get video source from data attribute
      const videoSrc = this.getAttribute('data-video');
      // Set video source
      fullscreenVideo.querySelector('source').src = videoSrc;
      fullscreenVideo.load();
      // Display modal
      modal.style.display = 'block';
      // Play video
      fullscreenVideo.play();
      // Prevent event from bubbling up to parent elements
      event.stopPropagation();
    });
  });
  
  // Close modal when clicking the close button
  closeBtn.addEventListener('click', function() {
    modal.style.display = 'none';
    fullscreenVideo.pause();
  });
  // Close modal when clicking outside the video
  modal.addEventListener('click', function(event) {
    if (event.target === modal) {
      modal.style.display = 'none';
      fullscreenVideo.pause();
    }
  });
  // Handle ESC key press to close modal
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && modal.style.display === 'block') {
      modal.style.display = 'none';
      fullscreenVideo.pause();
    }
  });
}
// Call function when DOM is loaded
document.addEventListener('DOMContentLoaded', setupVideoGallery);
</script>

<!-- lyric MUSIK <script>
// Simpan lirik lagu dalam objek
const songLyrics = {
  0: `Sempurna - Andra & The Backbone
  
Kau begitu sempurna
Di mataku kau begitu indah
Kau membuat diriku akan selalu memujamu

Di setiap langkahku
Ku kan selalu memikirkan dirimu
Tak bisa kubayangkan hidupku tanpa cintamu`,

  1: `Happy Birthday
  
Selamat ulang tahun
Selamat ulang tahun
Selamat ulang tahun untukmu
Selamat ulang tahun`,

  2: `[Tidak ada lirik]`,

  3: `Bila Kau Tak Disampingku - Acha Septriasa
  
Bila kau tak disampingku
Aku tak tahu harus berbuat apa
Saat kau jauh dari diriku
Rasanya separuh nafas hilang`,

  4: `[Tidak ada lirik]`
};

// Modifikasi fungsi playMusic untuk menampilkan lirik
function playMusic(index) {
  buttonClickSound.play();
  
  // Stop current music if playing
  pauseAllMusic();
  
  // Remove active class from all music items
  const musicItems = document.querySelectorAll('.music-item');
  musicItems.forEach(item => {
    item.classList.remove('active');
  });
  
  // Play selected music and add active class
  currentMusic = musicTracks[index];
  currentMusic.play();
  musicItems[index].classList.add('active');
  
  // Set lirik dan tampilkan layar lirik
  document.getElementById('lyrics-text').innerText = songLyrics[index];
  showScreen('lyrics-screen');
}
</script> -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Dapatkan semua gallery item di screen utama
  const galleryItems = document.querySelectorAll('#gallery-screen .gallery-item');
  
  // Tambahkan event click pada item pertama untuk menuju ke January
  if (galleryItems[0]) {
    galleryItems[0].addEventListener('click', function() {
      showScreen('january-gallery-screen');
      buttonClickSound.play();
    });
  }
  
  // Tambahkan event click pada item kedua untuk menuju ke February
  if (galleryItems[1]) {
    galleryItems[1].addEventListener('click', function() {
      showScreen('february-gallery-screen');
      buttonClickSound.play();
    });
  }
  if (galleryItems[2]) {
    galleryItems[2].addEventListener('click', function() {
      showScreen('maret-gallery-screen');
      buttonClickSound.play();
    });
  }
  if (galleryItems[3]) {
    galleryItems[3].addEventListener('click', function() {
      showScreen('april-gallery-screen');
      buttonClickSound.play();
    });
  }
  if (galleryItems[4]) {
  galleryItems[4].addEventListener('click', function() {
    showScreen('mei-gallery-screen');
    buttonClickSound.play();
    
    // Tambahkan kode untuk memutar video otomatis
    const embeddedVideo = document.getElementById('embedded-video');
    if (embeddedVideo) {
      embeddedVideo.src = "vid02.mp4"; // Pastikan path video benar
      embeddedVideo.load();
      embeddedVideo.play();
    }
    });
  }
});




// 3. Modifikasi fungsi showScreen untuk menambahkan screen baru
// Tambahkan screen baru ke dalam daftar screen yang dimanipulasi

function showScreen(screenId) {
  buttonClickSound.play();
  
  // Sembunyikan semua screen
  document.getElementById('main-screen').style.display = 'none';
  document.getElementById('message-screen').style.display = 'none';
  document.getElementById('gallery-screen').style.display = 'none';
  document.getElementById('music-screen').style.display = 'none';
  document.getElementById('tetris-screen').style.display = 'none';
  document.getElementById('qr-reward-screen').style.display = 'none';
  
  // Tambahkan screen bulan ke daftar screen yang akan disembunyikan
  if (document.getElementById('january-gallery-screen')) {
    document.getElementById('january-gallery-screen').style.display = 'none';
  }
  if (document.getElementById('february-gallery-screen')) {
    document.getElementById('february-gallery-screen').style.display = 'none';
  }
  if (document.getElementById('maret-gallery-screen')) {
    document.getElementById('maret-gallery-screen').style.display = 'none';
  }
  if (document.getElementById('april-gallery-screen')) {
    document.getElementById('april-gallery-screen').style.display = 'none';
  }
  if (document.getElementById('mei-gallery-screen')) {
    document.getElementById('mei-gallery-screen').style.display = 'none';
  }
  
  // Tampilkan screen yang dipilih
  document.getElementById(screenId).style.display = 'flex';
  
  if (screenId === 'tetris-screen') {
    startTetris();
  } else {
    stopTetris();
  }
}

// Core navigation system for D-pad controls
document.addEventListener('DOMContentLoaded', function() {
  // Navigation state management
  let currentScreen = 'main-screen';
  let selectedItemIndex = 0;
  let selectableItems = [];
  
  // Constants
  const NAVIGATION_MAP = {
    'gallery-screen': '.gallery-item',
    'music-screen': '.music-item',
    'january-gallery-screen': '.gallery-item',
    'lyrics-screen': null // No selectable items in lyrics screen
  };
  
  // Initialize D-pad controls
  function initDpadControls() {
    const dpadUp = document.querySelector('.dpad-up');
    const dpadDown = document.querySelector('.dpad-down');
    const dpadLeft = document.querySelector('.dpad-left');
    const dpadRight = document.querySelector('.dpad-right');
    const buttonA = document.querySelector('.action-button:nth-child(2)'); // A button
    const buttonB = document.querySelector('.action-button:nth-child(1)'); // B button
    
    // D-pad button animations
    [dpadUp, dpadDown, dpadLeft, dpadRight, buttonA, buttonB].forEach(button => {
      button.addEventListener('mousedown', () => {
        button.classList.add('button-press');
        buttonClickSound.play();
      });
      
      button.addEventListener('mouseup', () => {
        button.classList.remove('button-press');
      });
      
      button.addEventListener('mouseleave', () => {
        button.classList.remove('button-press');
      });
    });
    
    // D-pad navigation
    dpadUp.addEventListener('click', () => navigateDirection('up'));
    dpadDown.addEventListener('click', () => navigateDirection('down'));
    dpadLeft.addEventListener('click', () => navigateDirection('left'));
    dpadRight.addEventListener('click', () => navigateDirection('right'));
    
    // Action buttons
    buttonA.addEventListener('click', () => selectCurrentItem());
    buttonB.addEventListener('click', () => goBack());
    
    // Keyboard controls
    document.addEventListener('keydown', handleKeyPress);
  }
  
  // Handle keyboard controls
  function handleKeyPress(e) {
    switch(e.key) {
      case 'ArrowUp':
        navigateDirection('up');
        break;
      case 'ArrowDown':
        navigateDirection('down');
        break;
      case 'ArrowLeft':
        navigateDirection('left');
        break;
      case 'ArrowRight':
        navigateDirection('right');
        break;
      case 'a':
      case 'A':
        selectCurrentItem();
        break;
      case 'b':
      case 'B':
        goBack();
        break;
    }
  }
  
  // Navigate in specified direction
  function navigateDirection(direction) {
    buttonClickSound.play();
    
    if (!selectableItems.length) return;
    
    // Remove current selection
    selectableItems[selectedItemIndex].style.border = '1px solid #8bac0f';
    
    // Calculate new index based on direction and grid layout
    const gridColumns = currentScreen.includes('gallery') ? 2 : 1;
    const totalItems = selectableItems.length;
    
    switch(direction) {
      case 'up':
        selectedItemIndex = (selectedItemIndex - gridColumns + totalItems) % totalItems;
        break;
      case 'down':
        selectedItemIndex = (selectedItemIndex + gridColumns) % totalItems;
        break;
      case 'left':
        if (gridColumns > 1 && selectedItemIndex % gridColumns !== 0) {
          selectedItemIndex--;
        }
        break;
      case 'right':
        if (gridColumns > 1 && (selectedItemIndex + 1) % gridColumns !== 0 && selectedItemIndex < totalItems - 1) {
          selectedItemIndex++;
        }
        break;
    }
    
    // Apply new selection
    selectableItems[selectedItemIndex].style.border = '3px solid #8bac0f';
    
    // Scroll into view if needed
    ensureItemVisibility(selectableItems[selectedItemIndex]);
  }
  
  // Make sure selected item is visible in scrollable container
  function ensureItemVisibility(element) {
    const container = element.closest('.content-screen');
    if (!container) return;
    
    const containerRect = container.getBoundingClientRect();
    const elementRect = element.getBoundingClientRect();
    
    if (elementRect.bottom > containerRect.bottom) {
      container.scrollTop += (elementRect.bottom - containerRect.bottom + 10);
    } else if (elementRect.top < containerRect.top) {
      container.scrollTop -= (containerRect.top - elementRect.top + 10);
    }
  }
  
  // Handle 'A' button press - select current item
  
function selectCurrentItem() {
  buttonClickSound.play();
  
  if (!selectableItems.length) return;
  
  const selectedItem = selectableItems[selectedItemIndex];
  
  // Tambahkan animasi flash
  selectedItem.classList.add('button-press');
  setTimeout(() => selectedItem.classList.remove('button-press'), 200);
  
  // Tentukan tindakan berdasarkan screen yang aktif saat ini
  if (currentScreen === 'gallery-screen') {
    // Kasus khusus untuk gallery-screen utama
    const itemIndex = Array.from(document.querySelectorAll('#gallery-screen .gallery-item')).indexOf(selectedItem);
    
    if (itemIndex === 0) {
      showScreen('january-gallery-screen');
    } else if (itemIndex === 1) {
      showScreen('february-gallery-screen');
    } else if (itemIndex === 2) {
      showScreen('maret-gallery-screen');
    } else if (itemIndex === 3) {
      showScreen('april-gallery-screen');
    } else if (itemIndex === 2) {
      showScreen('mei-gallery-screen');
    } else if (itemIndex === 4) {
      showScreen('mei-gallery-screen');
      const embeddedVideo = document.getElementById('embedded-video');
      if (embeddedVideo) {
        embeddedVideo.src = "vid02.mp4";
        embeddedVideo.load();
        embeddedVideo.play();
        
        const videoTitle = document.getElementById('video-title');
        if (videoTitle) {
          videoTitle.textContent = "Birthday Video 2025";
        }
      }
    } else if (selectedItem.classList.contains('video-item')) {
      // Untuk item video lainnya
      const videoSrc = selectedItem.getAttribute('data-video');
      const fullscreenVideo = document.getElementById('fullscreen-video');
      if (fullscreenVideo) {
        fullscreenVideo.querySelector('source').src = videoSrc;
        fullscreenVideo.load();
        document.getElementById('video-modal').style.display = 'block';
        fullscreenVideo.play();
      }
    }
  } else if (currentScreen.includes('gallery') && currentScreen !== 'gallery-screen') {
    // Logika untuk gallery bulanan
    // ...
  } else if (currentScreen === 'music-screen') {
    // Logika untuk music screen
    const musicIndex = Array.from(selectableItems).indexOf(selectedItem);
    playMusic(musicIndex);
  }
}
  
  // Handle 'B' l press - go back
  function goBack() {
    buttonClickSound.play();
    
    // Handle specific screens
    if (currentScreen === 'qr-reward-screen') {
      showMainScreen();
    } else if (currentScreen.includes('gallery') && currentScreen !== 'gallery-screen') {
      showScreen('gallery-screen');
    } else if (currentScreen === 'lyrics-screen') {
      showScreen('music-screen');
    } else {
      showMainScreen();
    }
  }
  
  
  // Update selectable items when screen changes
  function updateSelectableItems() {
    // Get current visible screen
    const screens = document.querySelectorAll('.content-screen, #main-screen');
    for (const screen of screens) {
      if (screen.style.display === 'flex') {
        currentScreen = screen.id;
        break;
      }
    }
    
    // Find selectable items in current screen
    const selector = NAVIGATION_MAP[currentScreen];
    if (!selector) {
      selectableItems = [];
      return;
    }
    
    selectableItems = Array.from(document.querySelectorAll(`#${currentScreen} ${selector}`));
    
    // Reset and apply initial selection
    if (selectableItems.length > 0) {
      selectedItemIndex = 0;
      
      // Reset all borders
      selectableItems.forEach(item => {
        item.style.border = '1px solid #8bac0f';
      });
      
      // Highlight first item
      selectableItems[0].style.border = '3px solid #8bac0f';
    }
  }
  
  // Override show screen functions to update selectable items
  const originalShowScreen = window.showScreen;
  window.showScreen = function(screenId) {
    originalShowScreen(screenId);
    setTimeout(updateSelectableItems, 100); // Give time for display changes
  };
  
  const originalShowMainScreen = window.showMainScreen;
  window.showMainScreen = function() {
    originalShowMainScreen();
    setTimeout(updateSelectableItems, 100);
  };
  
  // Add CSS for selection and animation
  const style = document.createElement('style');
  style.textContent = `
    .gallery-item, .music-item {
      transition: all 0.2s ease;
    }
    .button-press {
      transform: scale(0.95);
      opacity: 0.8;
    }
  `;
  document.head.appendChild(style);
  
  // Initialize after DOM is fully loaded
  initDpadControls();
  updateSelectableItems();
});




// 1. Modifikasi fungsi showScreen untuk menghentikan video
function showScreen(screenId) {
  buttonClickSound.play();
  
  // Sembunyikan semua screen
  document.getElementById('main-screen').style.display = 'none';
  document.getElementById('message-screen').style.display = 'none';
  document.getElementById('gallery-screen').style.display = 'none';
  document.getElementById('music-screen').style.display = 'none';
  document.getElementById('tetris-screen').style.display = 'none';
  document.getElementById('qr-reward-screen').style.display = 'none';
  document.getElementById('lyrics-screen').style.display = 'none';
  document.getElementById('january-gallery-screen').style.display = 'none';
  
  
  // Tambahkan screen bulan ke daftar screen yang akan disembunyikan
  if (document.getElementById('january-gallery-screen')) {
    document.getElementById('january-gallery-screen').style.display = 'none';
  }
  if (document.getElementById('february-gallery-screen')) {
    document.getElementById('february-gallery-screen').style.display = 'none';
  }
  if (document.getElementById('maret-gallery-screen')) {
    document.getElementById('maret-gallery-screen').style.display = 'none';
  }
  if (document.getElementById('april-gallery-screen')) {
    document.getElementById('april-gallery-screen').style.display = 'none';
  }
  if (document.getElementById('video-player-screen')) {
    document.getElementById('video-player-screen').style.display = 'none';
    
    // Hentikan video ketika keluar dari screen video
    const embeddedVideo = document.getElementById('embedded-video');
    if (embeddedVideo) {
      embeddedVideo.pause();
    }
  }
  
  // Tampilkan screen yang dipilih
  document.getElementById(screenId).style.display = 'flex';
  
  // Jika pindah ke screen video, hentikan semua musik
  if (screenId === 'video-player-screen') {
    pauseAllMusic();
  }
  
  if (screenId === 'tetris-screen') {
    startTetris();
  } else {
    stopTetris();
  }
}

// 2. Modifikasi fungsi showMainScreen untuk juga menghentikan video
function showMainScreen() {
  buttonClickSound.play();
  
  document.getElementById('main-screen').style.display = 'flex';
  document.getElementById('message-screen').style.display = 'none';
  document.getElementById('gallery-screen').style.display = 'none';
  document.getElementById('music-screen').style.display = 'none';
  document.getElementById('tetris-screen').style.display = 'none';
  document.getElementById('video-player-screen').style.display = 'none';
  document.getElementById('lyrics-screen').style.display = 'none';
  
  // Hentikan video ketika kembali ke main screen
  const embeddedVideo = document.getElementById('embedded-video');
  if (embeddedVideo) {
    embeddedVideo.pause();
  }
  
  // Hentikan video di modal jika ada
  const fullscreenVideo = document.getElementById('fullscreen-video');
  if (fullscreenVideo) {
    fullscreenVideo.pause();
  }
  
  stopTetris();
  pauseAllMusic();
}

// 3. Tambahkan fungsionalitas untuk menghentikan musik ketika video modal diputar
function setupVideoGallery() {
  // Find all video items
  const videoItems = document.querySelectorAll('.gallery-item.video-item');
  const modal = document.getElementById('video-modal');
  const fullscreenVideo = document.getElementById('fullscreen-video');
  const closeBtn = document.querySelector('.close-modal');
  
  // Add click event to each video item
  videoItems.forEach(item => {
    item.addEventListener('click', function() {
      // Hentikan semua musik yang sedang diputar
      pauseAllMusic();
      
      // Get video source from data attribute
      const videoSrc = this.getAttribute('data-video');
      // Set video source
      fullscreenVideo.querySelector('source').src = videoSrc;
      fullscreenVideo.load();
      // Display modal
      modal.style.display = 'block';
      // Play video
      fullscreenVideo.play();
      // Prevent event from bubbling up to parent elements
      event.stopPropagation();
    });
  });
  
  // Close modal when clicking the close button
  closeBtn.addEventListener('click', function() {
    modal.style.display = 'none';
    fullscreenVideo.pause();
  });
  // Close modal when clicking outside the video
  modal.addEventListener('click', function(event) {
    if (event.target === modal) {
      modal.style.display = 'none';
      fullscreenVideo.pause();
    }
  });
  // Handle ESC key press to close modal
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && modal.style.display === 'block') {
      modal.style.display = 'none';
      fullscreenVideo.pause();
    }
  });
}


</script>

<script>

/// Sistem navigasi utama untuk kontrol D-pap// === INISIALISASI VARIABEL GLOBAL ===
document.addEventListener('DOMContentLoaded', function() {
  // === INISIALISASI VARIABEL GLOBAL ===
  let currentScreen = 'main-screen';
  let selectedItemIndex = 0;
  let selectableItems = [];
  let lastMonthScreen = ''; // Untuk mengingat layar bulan terakhir yang dikunjungi

  // Efek suara untuk klik button
  const buttonClickSound = new Audio();
  buttonClickSound.src = "musik/klik.mp3";
  buttonClickSound.volume = 0.3;

  // === MAPPING FOTO UNTUK SETIAP BULAN ===
  const PHOTO_MAPPING = {
    'january-gallery-screen': [
      'Gallery/january/january_photo1.jpg',
      'Gallery/january/january_photo2.jpg',
      'Gallery/january/january_photo3.jpg',
      'Gallery/january/january_photo4.jpg',
      'Gallery/january/january_photo5.jpg',
      'Gallery/january/january_photo6.jpg',
      'Gallery/january/january_photo7.jpg',
      'Gallery/january/january_photo8.jpg'
    ],
    'february-gallery-screen': [
      'Gallery/february/february_photo1.jpg',
      'Gallery/february/february_photo2.jpg',
      'Gallery/february/february_photo3.jpg',
      'Gallery/february/february_photo5.jpg',
      'Gallery/february/february_photo5.jpg',
      'Gallery/february/february_photo6.jpg',
      'Gallery/february/february_photo7.jpg',
      'Gallery/february/february_photo8.jpg',
    ],
    'maret-gallery-screen': [
      'Gallery/maret/maret_photo1.jpg',
      'Gallery/maret/maret_photo2.jpg',
      'Gallery/maret/maret_photo3.jpg',
      'Gallery/maret/maret_photo4.jpg',
      'Gallery/maret/maret_photo5.jpg',
      'Gallery/maret/maret_photo6.jpg',
      'Gallery/maret/maret_photo7.jpg',
      'Gallery/maret/maret_photo8.jpg'
    ],
    'april-gallery-screen': [
      'Gallery/april/april_photo1.jpg',
      'Gallery/april/april_photo2.jpg',
      'Gallery/april/april_photo3.jpg',
      'Gallery/april/april_photo4.jpg',
      'Gallery/april/april_photo5.jpg',
      'Gallery/april/april_photo6.jpg',
      'Gallery/april/april_photo7.jpg',
      'Gallery/april/april_photo8.jpg'
    ],
    'mei-gallery-screen': [
      'Gallery/mei/mei_photo1.jpg',
      'Gallery/mei/mei_photo2.jpg',
      'Gallery/mei/mei_photo3.jpg',
      'Gallery/mei/mei_photo4.jpg',
      'Gallery/mei/mei_photo5.jpg',
      'Gallery/mei/mei_photo6.jpg',
      'Gallery/mei/mei_photo7.jpg',
      'Gallery/mei/mei_photo8.jpg'
    ]
  };

  // === MAPPING VIDEO UNTUK SETIAP BULAN ===
  const VIDEO_MAPPING = {
    'january-gallery-screen': {
      '8': 'Gallery/january/january_video1.mp4',
      '9': 'Gallery/january/january_video2.mp4'
    },
    'february-gallery-screen': {
      '8': 'Gallery/february/february_video1.mp4',
      '9': 'Gallery/february/february_video2.mp4'
    },
    'maret-gallery-screen': {
      '8': 'Gallery/maret/maret_video1.mp4',
      '9': 'Gallery/maret/maret_video2.mp4'
    },
    'april-gallery-screen': {
      '8': 'Gallery/april/april_video1.mp4',
      '9': 'Gallery/april/april_video2.mp4'
    },
    'mei-gallery-screen': {
      '8': 'Gallery/mei/mei_video1.mp4',
      '9': 'Gallery/mei/mei_video2.mp4'
    }
  };

  // Nama bulan untuk label
  const MONTH_NAMES = {
    'january-gallery-screen': 'Januari',
    'february-gallery-screen': 'Februari',
    'maret-gallery-screen': 'Maret',
    'april-gallery-screen': 'April',
    'mei-gallery-screen': 'Mei'
  };

  // Peta navigasi untuk setiap layar
  const NAVIGATION_MAP = {
    'main-screen': '.main-menu-item', // Item menu utama
    'message-screen': null, // Tidak ada item yang dapat dipilih di layar pesan
    'gallery-screen': '.gallery-item', // Item yang dapat dipilih di galeri utama
    'music-screen': '.music-item', // Item yang dapat dipilih di musik
    'january-gallery-screen': '.gallery-item', // Item galeri Januari
    'february-gallery-screen': '.gallery-item', // Item galeri Februari
    'maret-gallery-screen': '.gallery-item', // Item galeri Maret
    'april-gallery-screen': '.gallery-item', // Item galeri April
    'mei-gallery-screen': '.gallery-item', // Item galeri Mei
    'january-photo-detail-screen': null, // Tidak ada item yang dapat dipilih di detail foto
    'video-player-screen': null // Tidak ada item yang dapat dipilih di video player
  };

  // === INISIALISASI KONTROL D-PAD ===
  function initDpadControls() {
    // Mendapatkan semua tombol D-pad dan aksi
    const dpadUp = document.querySelector('.dpad-up');
    const dpadDown = document.querySelector('.dpad-down');
    const dpadLeft = document.querySelector('.dpad-left');
    const dpadRight = document.querySelector('.dpad-right');
    const buttonA = document.querySelector('.action-button:nth-child(2)'); // Tombol A
    const buttonB = document.querySelector('.action-button:nth-child(1)'); // Tombol B

    // Tambahkan animasi untuk semua tombol
    [dpadUp, dpadDown, dpadLeft, dpadRight, buttonA, buttonB].forEach(button => {
      if (!button) return; // Periksa jika tombol ada

      // Animasi saat ditekan
      button.addEventListener('mousedown', () => {
        button.classList.add('button-press');
        buttonClickSound.play();
      });

      // Animasi saat dilepas
      button.addEventListener('mouseup', () => {
        button.classList.remove('button-press');
      });

      // Animasi saat mouse keluar dari area tombol
      button.addEventListener('mouseleave', () => {
        button.classList.remove('button-press');
      });
    });

    // Tambahkan fungsi navigasi ke tombol D-pad
    if (dpadUp) dpadUp.addEventListener('click', () => navigateDirection('up'));
    if (dpadDown) dpadDown.addEventListener('click', () => navigateDirection('down'));
    if (dpadLeft) dpadLeft.addEventListener('click', () => navigateDirection('left'));
    if (dpadRight) dpadRight.addEventListener('click', () => navigateDirection('right'));

    // Tambahkan fungsi aksi ke tombol A dan B
    if (buttonA) buttonA.addEventListener('click', () => selectCurrentItem()); // Tombol A untuk memilih item
    if (buttonB) buttonB.addEventListener('click', () => goBack());           // Tombol B untuk kembali

    // Tambahkan navigasi keyboard
    document.addEventListener('keydown', handleKeyPress);
  }

  // === FUNGSI NAVIGASI DENGAN KEYBOARD ===
  function handleKeyPress(e) {
    switch(e.key) {
      case 'ArrowUp':
        navigateDirection('up');
        break;
      case 'ArrowDown':
        navigateDirection('down');
        break;
      case 'ArrowLeft':
        navigateDirection('left');
        break;
      case 'ArrowRight':
        navigateDirection('right');
        break;
      case 'a':
      case 'A':
      case 'Enter':
        selectCurrentItem(); // Tombol A atau Enter untuk memilih
        break;
      case 'b':
      case 'B':
      case 'Escape':
        goBack(); // Tombol B atau Escape untuk kembali
        break;
    }
  }

  // === FUNGSI NAVIGASI ARAH ===
  function navigateDirection(direction) {
    buttonClickSound.play();

    // Jika tidak ada item yang dapat dipilih, keluar dari fungsi
    if (!selectableItems.length) return;

    // Hapus pemilihan saat ini
    selectableItems[selectedItemIndex].classList.remove('selected-item');
    selectableItems[selectedItemIndex].style.border = '1px solid #8bac0f';

    // Hitung indeks baru berdasarkan arah dan tata letak grid
    const gridColumns = currentScreen.includes('gallery') ? 2 : 1; // Gallery menggunakan 2 kolom
    const totalItems = selectableItems.length;

    switch(direction) {
      case 'up':
        if (selectedItemIndex - gridColumns >= 0) {
          selectedItemIndex -= gridColumns;
        }
        break;
      case 'down':
        if (selectedItemIndex + gridColumns < totalItems) {
          selectedItemIndex += gridColumns;
        }
        break;
      case 'left':
        if (selectedItemIndex % gridColumns !== 0) {
          selectedItemIndex--;
        }
        break;
      case 'right':
        if ((selectedItemIndex + 1) % gridColumns !== 0 && selectedItemIndex < totalItems - 1) {
          selectedItemIndex++;
        }
        break;
    }

    // Terapkan pemilihan baru dengan border yang lebih tebal
    selectableItems[selectedItemIndex].classList.add('selected-item');
    selectableItems[selectedItemIndex].style.border = '3px solid #8bac0f';

    // Pastikan item yang dipilih terlihat di layar
    ensureItemVisibility(selectableItems[selectedItemIndex]);
  }

  // === FUNGSI UNTUK MEMASTIKAN ITEM TERLIHAT ===
  function ensureItemVisibility(element) {
    const container = element.closest('.content-screen');
    if (!container) return;

    // Cek apakah elemen berada di luar area yang terlihat
    const containerRect = container.getBoundingClientRect();
    const elementRect = element.getBoundingClientRect();

    // Scroll jika item di luar area yang terlihat
    if (elementRect.bottom > containerRect.bottom) {
      container.scrollTop += (elementRect.bottom - containerRect.bottom + 10);
    } else if (elementRect.top < containerRect.top) {
      container.scrollTop -= (containerRect.top - elementRect.top + 10);
    }
  }

  // === FUNGSI UNTUK TOMBOL A (MEMILIH ITEM) ===
  function selectCurrentItem() {
    buttonClickSound.play();

    // Jika tidak ada item yang dapat dipilih, keluar dari fungsi
    if (!selectableItems.length) return;

    const selectedItem = selectableItems[selectedItemIndex];

    // Tambahkan animasi flash saat dipilih
    selectedItem.classList.add('button-press');
    setTimeout(() => selectedItem.classList.remove('button-press'), 200);

    // Tentukan tindakan berdasarkan layar yang aktif
    if (currentScreen === 'main-screen') {
      // Logika untuk layar utama
      const itemIndex = Array.from(selectableItems).indexOf(selectedItem);
      if (itemIndex === 0) showScreen('gallery-screen');
      else if (itemIndex === 1) showScreen('music-screen');
      else if (itemIndex === 2) showScreen('message-screen');
    }
    else if (currentScreen === 'gallery-screen') {
      // Logika untuk layar galeri utama
      const itemIndex = Array.from(selectableItems).indexOf(selectedItem);
      const monthScreens = ['january-gallery-screen', 'february-gallery-screen', 'maret-gallery-screen', 'april-gallery-screen', 'mei-gallery-screen'];
      if (itemIndex >= 0 && itemIndex < monthScreens.length) {
        showScreen(monthScreens[itemIndex]);
        lastMonthScreen = monthScreens[itemIndex]; // Simpan screen bulan terakhir
      }
    }
    else if (currentScreen.includes('-gallery-screen') && currentScreen !== 'gallery-screen') {
      // Logika untuk galeri bulanan (January, February, Maret, April, Mei)
      const itemIndex = Array.from(selectableItems).indexOf(selectedItem);

      // Jika item adalah foto (indeks 0-7), tampilkan detail foto
      if (itemIndex >= 0 && itemIndex <= 7) {
        // Tampilkan detail foto
        const detailScreen = document.getElementById('january-photo-detail-screen');
        if (detailScreen) {
          // Simpan info bulan saat ini untuk kembali nanti
          detailScreen.setAttribute('data-return-screen', currentScreen);

          // Setel foto yang dipilih ke layar detail
          const detailPhoto = document.getElementById('detail-photo');
          if (detailPhoto) {
            // Gunakan foto dari mapping berdasarkan bulan dan indeks
            const photoPath = PHOTO_MAPPING[currentScreen][itemIndex];
            detailPhoto.style.backgroundImage = `url(${photoPath})`;
          }

          // Setel caption foto
          const photoCaption = document.getElementById('photo-caption');
          if (photoCaption) {
            const monthName = MONTH_NAMES[currentScreen] || currentScreen.replace('-gallery-screen', '');
            photoCaption.textContent = `Foto #${itemIndex + 1} dari ${monthName}`;
          }

          // Tampilkan layar detail
          showScreen('january-photo-detail-screen');
        }
      }
      // Jika item adalah video (indeks 8-9), putar video
      else if (itemIndex >= 8 && itemIndex <= 9) {
        showScreen('video-player-screen');

        // Hentikan musik saat memutar video
        pauseAllMusic();

        // Siapkan dan putar video berdasarkan bulan dan indeks
        const embeddedVideo = document.getElementById('embedded-video');
        if (embeddedVideo) {
          // Ambil video yang sesuai dengan bulan dan indeks
          const videoPath = VIDEO_MAPPING[currentScreen][itemIndex.toString()] || "default_video.mp4";
          embeddedVideo.src = videoPath;
          embeddedVideo.load();
          embeddedVideo.play();

          // Simpan info bulan saat ini untuk kembali nanti
          const videoPlayerScreen = document.getElementById('video-player-screen');
          if (videoPlayerScreen) {
            videoPlayerScreen.setAttribute('data-return-screen', currentScreen);
          }

          // Setel judul video
          const videoTitle = document.getElementById('video-title');
          if (videoTitle) {
            const monthName = MONTH_NAMES[currentScreen] || currentScreen.replace('-gallery-screen', '');
            videoTitle.textContent = `Video #${itemIndex - 7} dari ${monthName}`;
          }
        }
      }
    }
    else if (currentScreen === 'music-screen') {
      // Logika untuk layar musik
      const musicIndex = Array.from(selectableItems).indexOf(selectedItem);
      playMusic(musicIndex);
    }
  }

  // === FUNGSI UNTUK TOMBOL B (KEMBALI) ===
  function goBack() {
    buttonClickSound.play();

    // Logika untuk kembali berdasarkan layar yang aktif
    if (currentScreen === 'january-photo-detail-screen') {
      // Kembali ke galeri bulanan dari detail foto
      const returnScreen = document.getElementById('january-photo-detail-screen').getAttribute('data-return-screen') || lastMonthScreen || 'gallery-screen';
      showScreen(returnScreen);
    }
    else if (currentScreen === 'video-player-screen') {
      // Kembali ke galeri bulanan dari pemutar video
      const returnScreen = document.getElementById('video-player-screen').getAttribute('data-return-screen') || lastMonthScreen || 'gallery-screen';
      showScreen(returnScreen);

      // Hentikan video
      const embeddedVideo = document.getElementById('embedded-video');
      if (embeddedVideo) {
        embeddedVideo.pause();
        embeddedVideo.currentTime = 0; // Reset posisi video
      }
    }
    else if (currentScreen.includes('gallery') && currentScreen !== 'gallery-screen') {
      // Kembali ke galeri utama dari galeri bulanan
      showScreen('gallery-screen');
    }
    else {
      // Kembali ke layar utama dari layar lainnya
      showMainScreen();
    }
  }

  // === FUNGSI UNTUK MEMPERBARUI ITEM YANG DAPAT DIPILIH ===
  function updateSelectableItems() {
    // Dapatkan layar yang sedang aktif
    const screens = document.querySelectorAll('.content-screen, #main-screen');
    for (const screen of screens) {
      if (screen.style.display === 'flex') {
        currentScreen = screen.id;
        break;
      }
    }

    // Cari item yang dapat dipilih di layar yang aktif
    const selector = NAVIGATION_MAP[currentScreen];
    if (!selector) {
      selectableItems = [];
      return;
    }

    selectableItems = Array.from(document.querySelectorAll(`#${currentScreen} ${selector}`));

    // Reset dan terapkan pemilihan awal
    if (selectableItems.length > 0) {
      selectedItemIndex = 0;

      // Reset semua border
      selectableItems.forEach(item => {
        item.classList.remove('selected-item');
        item.style.border = '1px solid #8bac0f';
      });

      // Sorot item pertama
      selectableItems[0].classList.add('selected-item');
      selectableItems[0].style.border = '3px solid #8bac0f';

      // Pastikan item pertama terlihat
      ensureItemVisibility(selectableItems[0]);
    }
  }

  // === OVERRIDE FUNGSI SHOWSCREEN ===
  window.showScreen = function(screenId) {
    // Sembunyikan semua layar
    const screens = document.querySelectorAll('.content-screen, #main-screen');
    screens.forEach(screen => {
      screen.style.display = 'none';
    });

    // Tampilkan layar yang diminta
    const targetScreen = document.getElementById(screenId);
    if (targetScreen) {
      targetScreen.style.display = 'flex';
    }

    // Jika pindah ke layar video, hentikan musik
    if (screenId === 'video-player-screen') {
      pauseAllMusic();
    }

    // Perbarui item yang dapat dipilih
    setTimeout(updateSelectableItems, 100);
  };

  // === OVERRIDE FUNGSI SHOWMAINSCREEN ===
  window.showMainScreen = function() {
    // Tampilkan layar utama dan sembunyikan layar lainnya
    const screens = document.querySelectorAll('.content-screen, #main-screen');
    screens.forEach(screen => {
      screen.style.display = screen.id === 'main-screen' ? 'flex' : 'none';
    });

    // Perbarui item yang dapat dipilih
    setTimeout(updateSelectableItems, 100);
  };

  // === FUNGSI UNTUK MENGHENTIKAN SEMUA MUSIK ===
  window.pauseAllMusic = function() {
    const audioElements = document.querySelectorAll('audio');
    audioElements.forEach(audio => {
      audio.pause();
    });
  };

  // === FUNGSI UNTUK MEMUTAR MUSIK ===
  window.playMusic = function(index) {
    // Implementasi fungsi memutar musik sesuai indeks
    const musicFiles = ['musik/about_you.mp3', 'musik/pretty_little_baby.mp3', 'musik/photograph.mp3', 'musik/song01.mp3', 'musik/brian.mp3'];
    
    // Hentikan semua musik yang sedang diputar
    pauseAllMusic();
    
    // Cari atau buat elemen audio
    let audioPlayer = document.getElementById('audio-player');
    if (!audioPlayer) {
      audioPlayer = document.createElement('audio');
      audioPlayer.id = 'audio-player';
      audioPlayer.controls = true;
      audioPlayer.style.display = 'none';
      document.body.appendChild(audioPlayer);
    }
    
    // Setel dan putar musik baru
    if (index >= 0 && index < musicFiles.length) {
      audioPlayer.src = musicFiles[index];
      audioPlayer.play();
    }
  };

  // Tambahkan CSS untuk styling
  const style = document.createElement('style');
  style.textContent = `
    .selected-item {
      border: 3px solid #8bac0f !important;
      transform: scale(1.03);
      transition: all 0.1s ease;
    }
    .button-press {
      transform: scale(0.75);
      opacity: 0.8;
      transition: all 0.1s ease;
    }
  `;
  document.head.appendChild(style);

  // === INISIALISASI SETELAH DOM SEPENUHNYA DIMUAT ===
  initDpadControls();
  updateSelectableItems();

  // Konfigurasi navigasi kembali untuk semua layar bulan dan layar detail
  const allMonthScreens = ['january-gallery-screen', 'february-gallery-screen', 'maret-gallery-screen', 'april-gallery-screen', 'mei-gallery-screen'];
  const detailScreens = ['january-photo-detail-screen', 'video-player-screen'];
  
  // Konfigurasi semua layar galeri bulan
  allMonthScreens.forEach(screenId => {
    const screen = document.getElementById(screenId);
    if (screen) {
      const backButtons = screen.querySelectorAll('.back-button, .return-button');
      backButtons.forEach(button => {
        button.addEventListener('click', () => {
          showScreen('gallery-screen');
        });
      });
    }
  });
  
  // Konfigurasi layar detail foto
  const photoDetailScreen = document.getElementById('january-photo-detail-screen');
  if (photoDetailScreen) {
    const backButtons = photoDetailScreen.querySelectorAll('.back-button, .return-button');
    backButtons.forEach(button => {
      button.addEventListener('click', () => {
        const returnScreen = photoDetailScreen.getAttribute('data-return-screen') || lastMonthScreen || 'gallery-screen';
        showScreen(returnScreen);
      });
    });
  }
  
  // Konfigurasi layar pemutar video
  const videoPlayerScreen = document.getElementById('video-player-screen');
  if (videoPlayerScreen) {
    const backButtons = videoPlayerScreen.querySelectorAll('.back-button, .return-button');
    backButtons.forEach(button => {
      button.addEventListener('click', () => {
        const returnScreen = videoPlayerScreen.getAttribute('data-return-screen') || lastMonthScreen || 'gallery-screen';
        showScreen(returnScreen);
        
        // Hentikan video saat kembali
        const embeddedVideo = document.getElementById('embedded-video');
        if (embeddedVideo) {
          embeddedVideo.pause();
          embeddedVideo.currentTime = 0;
        }
      });
    });
  }
});
</script>
<script>
   // Tambahkan kode ini di bagian awal file JavaScript yang ada
// === SISTEM NOTIFIKASI SEDERHANA ===
document.addEventListener('DOMContentLoaded', function() {
  // Buat elemen notifikasi
  const notification = document.createElement('div');
  notification.id = 'gameboy-notification';
  notification.innerHTML = `
    <div class="notification-content">
      <p>Selamat ulang tahun!</p>
      <tr>
      <p>Sambil menjelajahi website ini, enaknya dengerin lagu dulu biar makin vibesnya seruu.</p>
      <p>Ohyaa, sebelum dapet hadiahnya... kamu harus selesain game tetris dulu yaa, nanti bakal ada hadiahnya buat  kamu. </p>
      <button id="notification-ok-button">OK</button>
    </div>
  `;
  
  // Tambahkan notifikasi ke body
  document.body.appendChild(notification);
  
  // Tambahkan style untuk notifikasi
  const style = document.createElement('style');
  style.textContent = `
    #gameboy-notification {
      position: fixed;
      top: 200px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #306230;
      border: 3px solid #8bac0f;
      border-radius: 5px;
      padding: 10px;
      z-index: 1000;
      font-family: 'Press Start 2P', monospace;
      font-size: 8px;
      letter-spacing: 2px;
      color: #c4cfa1;
      width: 100%;
      height:100%;
      max-width: 250px;
      max-height: 160px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }
    
    .notification-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }
    
    #notification-ok-button {
      background-color: #8bac0f;
      border: 2px solid #0f380f;
      color: #0f380f;
      padding: 5px 15px;
      font-family: 'Press Start 2P', monospace;
      font-size: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    #notification-ok-button:hover {
      background-color: #9bbc0f;
      transform: scale(1.05);
    }
    
    #notification-ok-button:active {
      transform: scale(0.95);
    }
  `;
  document.head.appendChild(style);
  
  // Variabel untuk musik latar
  let backgroundMusic = null;
  
  // Periksa apakah elemen audio musik latar sudah ada
  if (!document.getElementById('background-music')) {
    // Buat elemen audio untuk musik latar
    backgroundMusic = document.createElement('audio');
    backgroundMusic.id = 'background-music';
    backgroundMusic.loop = true;
    backgroundMusic.volume = 0.3;
    backgroundMusic.src = "musik/brian.mp3"; // Menggunakan file audio yang sama
    document.body.appendChild(backgroundMusic);
  } else {
    // Ambil elemen audio yang sudah ada
    backgroundMusic = document.getElementById('background-music');
  }
  
  // Tambahkan event listener untuk tombol OK
  document.getElementById('notification-ok-button').addEventListener('click', function() {
    // Mainkan musik latar
    if (backgroundMusic) {
      backgroundMusic.play();
    }
    
    // Tampilkan animasi menutup notifikasi
    notification.style.transition = 'all 0.5s ease';
    notification.style.opacity = '0';
    notification.style.transform = 'translateX(-50%) translateY(-20px)';
    
    // Hapus notifikasi setelah animasi selesai
    setTimeout(function() {
      notification.remove();
    }, 500);
  });
});</script>
</body>
</html>
